API Deployment Checklist



[x] Create the following in the root dir >
   [ ] Create server.js
   [ ] Create app.js <= this calls the "routes"
      [ ] Load the routes => eg., const PARCELIZED_AGC_ROUTES = require('./routes/parcelized-agc-routes.js');
      [ ] Mount the router => eg., EXPRESS_APP.use('/api/v1/parcelized-agcs', PARCELIZED_AGC_ROUTES);
   [ ] Create "routes/routers" folder <= this calls the "controllers"
   [ ] Create "controllers" folder <= this calls the "models"
   [ ] Create "models" folder
      [ ] Install npm VALIDATOR package to validate email addresses in user-model.js
   [ ] Create a "views" folder
      [ ] Set the express app templating engine to "pug"
      [ ] Point to the "views" directory > EXPRESS_APP.set('views', path.join(__dirname, 'views'));
      [ ] Mount the base template router > EXPRESS_APP.get('/', (req, res) => { ... }


[ ] Upload data from local .geojson file to Atlas DB
   [ ] Update and save the "parcelized-agcs.geojson" file
   [ ] Upload the file to database > RUN: npm run exportdb


[x] Install server response (JSON / HTML) compression => npm i compression

[x] Add { "start": "node server.js" } script to package.json in order for Heroku to work
[x] Add latest node version to "engines" in package.json

[ ] Remove all the console.logs

[x] Deploy to Heroku >>
   [x] Create a new Heroku project > RUN: "heroku create"
      [..] To change default name of Heroku app > RUN: heroku apps:rename [newname]
   [x] Connect to GitHub repo > On Heroku dashboard, select "Deploy" && click on "Connect to GitHub"
   [x] Upload files from "master" repository to Heroku > 
      [x] RUN: "git push heroku master"
      [x] Verify this works > RUN: git remote -v
   [x] Set environment variables on Heroku (needed b/cos config.eng is excluded from git) > 
      [x] RUN: "heroku config:set NODE_ENV=production"
      [x] RUN: heroku config:set ATLAS_DB_STRING="mongodb+srv://monkey-paw:<PASSWORD>@monkey-paw-cluster-cwcff.gcp.mongodb.net/nirsal_agcs?retryWrites=true&w=majority"
      [x] RUN: heroku config:set ATLAS_DB_PASSOWRD=dooksie

[ ] Deploy to Firebase >>
   [x] Install the Firebase CLI >> RUN: npm install -g firebase-tools
   [ ] Initialize Firebase in the project directory >> RUN: firebase init

[ ] Open Heroku project > RUN: "heroku open"